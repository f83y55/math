<!DOCTYPE html>
<html lang="fr">

<head>
    <title></title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="../../../s.js" data-import="prism"></script>    
</head>

<body class="line-numbers" onload="body()">
    <!--Corrigé : 
    ->
        <style>
            h1::after {content: " - corrigé";}
            @media print {
                .corr {display:flex;}
                .quadrillage5mm {display:none}
                .pagebreak {break-after: auto;}
            }
        </style>
    <!- -->
    <main>
        <h1>Numérique et sciences informatiques - Devoir 1</h1>
        <div class="quadrillage5mm background-print" style="min-height:5cm;">&nbsp;&nbsp;<strong>Prénom NOM classe : </strong></div>
        <h2 class="nocounter">Exercice 1 : Évaluation d'expression à l'aide d'arbres (10 points) </h2>
        <div class="none">
            On s'intéresse à l'évaluation d'expressions mathématiques <strong>comportant uniquement des additions et des
                multiplications</strong>. On utilisera pour cela les structures de file et de pile, dont les interfaces
            sont
            données ci-dessous :
            <div class="row">
                <div class="col" style="margin:1em;padding:1em;border:1px solid black;border-radius:1em;">
                    <strong>Interface de la classe <code>Pile</code> :</strong>
                    <ul>
                        <li>
                            <code>Pile()</code> : crée une pile vide.
                        </li>
                        <li>
                            <code>empile(el)</code> : empile l'élément <code>el</code> au sommet de la pile.
                        </li>
                        <li>
                            <code>depile()</code> : supprime et renvoie l'élément au sommet de la pile, déclenche une
                            erreur si la pile est vide.
                        </li>
                        <li>
                            <code>est_vide()</code> : renvoie <code>True</code> si la pile est vide, <code>False</code>
                            sinon.
                        </li>
                    </ul>
                </div>
                <div class="col" style="margin:1em;padding:1em;border:1px solid black;border-radius:1em;">
                    <strong>Interface de la classe <code>File</code> :</strong>
                    <ul>
                        <li>
                            <code>File()</code> : crée une file vide.
                        </li>
                        <li>
                            <code>enfile(el)</code> : enfile l'élément <code>el</code> à la queue de la file.
                        </li>
                        <li>
                            <code>defile()</code> : supprime et renvoie l'élément en tête de la file, déclenche une
                            erreur
                            si la file est vide.
                        </li>
                        <li>
                            <code>est_vide()</code> : renvoie <code>True</code> si la file est vide, <code>False</code>
                            sinon.
                        </li>
                    </ul>
                </div>
            </div>
            <p>
                Pour tenir compte de l'ordre des opérations, on représente les expressions par des arbres
                binaires.<br />
            </p>
            Ainsi, l'expression 1+5×(3+9) est représentée par l'arbre 1 :
            <div class="row">
                <div class="col" style="width:50%">
                    <figure>
                        <figcaption>Arbre 1</figcaption>
                        <img width="100%" src="assets/arbre1.svg" alt="arbre1">
                    </figure>
                </div>
                <div class="col">
                    <figure>
                        <figcaption>Arbre 2</figcaption>
                        <img width="100%" src="assets/arbre2.svg" alt="arbre2">
                    </figure>
                </div>
            </div>
            <ol>
                <li>
                    Donner l'expression représentée par l'arbre 2.
                    <div class="quadrillage5mm background-print" style="min-height:2cm;"></div>
                    <div class="corr"><span class="barm">(1 pt)</span>
                        ((2×3)+(4×5))×2 <br/>
                        
                    </div>
                </li>
                <div class="pagebreak"></div>
                <li>
                    On décide d'implémenter en Python un arbre binaire à l'aide de la classe <code>Noeud</code>
                    ci-dessous :
                    <pre class="language-python"><code>class Noeud:
    def __init__(self, etiquette, gauche, droit):
        self.etiq = etiquette
        self.sag = gauche
        self.sad = droit</code></pre>
                    Un sous-arbre vide sera représenté par <code>None</code>.<br />
                    Dessiner l'arbre <code>expression</code> qui est défini par le code suivant :
                    <pre class="language-python"><code>feuille2 = Noeud("2", None, None)
feuille3 = Noeud("3", None, None)
feuille4 = Noeud("4", None, None)
feuille5 = Noeud("5", None, None)
feuille6 = Noeud("6", None, None)
noeud0 = Noeud("*", feuille2, feuille3)
noeud1 = Noeud("+", feuille5, feuille6)
noeud2 = Noeud("+", noeud0, feuille4)
expression = Noeud("*", noeud2, noeud1)</code></pre>
<div class="quadrillage5mm background-print" style="min-height:7cm;"></div>
                    <div class="corr"><span class="barm">(1 pt)</span>
                        ((2×3)+4)×(5+6)
                        <figure>
                        <img src="assets/arbre3.svg" alt="arbre3">
                        </figure>
                    </div>
                </li>
                <li>Le parcours suffixe (aussi appelé postfixe) d'un arbre représentant une expression mathématique
                    permet d'en obtenir une représentation appelée <i>notation polonaise inversée</i>.
                    <ol type="a">
                        <li>Donner la liste des étiquettes de l'arbre 2 de la question 1 dans l'ordre du parcours
                            suffixe de cet arbre.
                            <div class="quadrillage5mm background-print" style="min-height:1.5cm;"></div>
                            <div class="corr"><span class="barm">(2 pts)</span>
                                <code>["2", "3", "×", "4", "5", "×", "+", "2", "×"]</code>
                            </div>
                        </li>
                        <li>On donne ci-après trois propositions de fonctions récursives dont le premier paramètre est
                            un arbre représentant une expression mathématique et le deuxième est une file initialement
                            vide. <br />
                            Laquelle de ces fonctions renvoie la file contenant les étiquettes de l'arbre dans l'ordre
                            du parcours suffixe ? Justifier.
                            <div>
                                <strong>Proposition 1</strong>
                                <pre class="language-python"><code>def suffixe(arbre, file):
    if arbre != None
       file.enfile(arbre.etiq)
       parcours_g = suffixe(arbre.sag, file)
       parcours_d = suffixe(arbre.sad, file)
    return file</code></pre>
                            </div>
                            <div class="pagebreak"></div>
                            <div>
                                <strong>Proposition 2</strong>
                                <pre class="language-python"><code>def suffixe(arbre, file):
    if arbre != None
       parcours_g = suffixe(arbre.sag, file)
       file.enfile(arbre.etiq)
       parcours_d = suffixe(arbre.sad, file)
    return file</code></pre>

                            </div>
                            <div>
                                <strong>Proposition 3</strong>
                                <pre class="language-python"><code>def suffixe(arbre, file):
    if arbre != None
       parcours_g = suffixe(arbre.sag, file)
       parcours_d = suffixe(arbre.sad, file)
       file.enfile(arbre.etiq)
    return file</code></pre>
                            </div>
                            <div class="quadrillage5mm background-print" style="min-height:5cm;"></div>

                            <div class="corr"><span class="barm">(2 pts)</span>
                                Il s'agit de la proposition 3 ; suffixe : la racine est notée à la fin.
                            </div>
                        </li>
                    </ol>
                </li>
                <li>
                    L'évaluation d'une expression mathématique consiste à effectuer les différentes opérations
                    pour obtenir le résultat du calcul correspondant.<br>
                    On donne un algorithme qui permet d'évaluer une expression sous la forme d'un arbre :
                    <ul>
                        <li>
                            On effectue un parcours suffixe de cet arbre pour obtenir une file contenant ses
                            étiquettes dans l'ordre de la notation polonaise inversée.
                        </li>
                        <li>
                            Pour chaque élément défilé :
                            <ul>
                                <li>
                                    Si c'est un nombre : on l'empile.
                                </li>
                                <li>
                                    Si c'est un opérateur (<code>"+"</code> ou <code>"*"</code>), on dépile les
                                    deux éléments <code>d</code> et <code>g</code> au sommet de la pile, et on
                                    empile le <strong>résultat</strong> de l'opération appliquée à
                                    <code>g</code> et <code>d</code>.
                                </li>
                            </ul>
                        </li>
                        <li>
                            Lorsque la file est vide, la pile contient un seul élément : le résultat de
                            l'évaluation de l'expression. </li>
                    </ul>
                    <div class="row">
                        <div class="col">
                            Par exemple, lors de l'évaluation de l'expression en notation polonaise inversée
                            :<br />
                            <code>3 10 + 5 ×</code><br />voici les différents états de la pile, suite au
                            défilement
                            d'un élément :
                        </div>
                        <div class="col">
                            <table class="mytable">
                                <tr>
                                    <th>
                                        Élément <br /> défilé
                                    </th>
                                    <td>3</td>
                                    <td>10</td>
                                    <td>+</td>
                                    <td>5</td>
                                    <td>×</td>
                                </tr>
                                <tr>
                                    <th>
                                        Pile
                                    </th>
                                    <td><br />3</td>
                                    <td>10<br />3</td>
                                    <td><br />13</td>
                                    <td>5<br />13</td>
                                    <td><br />65</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            La fonction <code>evalue(arbre)</code> implémente cet algorithme. Elle renvoie le
                            résultat de l'évaluation d'une expression mathématique représentée par un arbre
                            binaire <code>arbre</code> passé en paramètre.<br />
                            Compléter cette fonction. On pourra utiliser la fonction <code>op</code> définie
                            ci-contre.
                        </div>
                        <div class="col">
                            <pre class="language-python"><code>def op(symbole, x, y):
    if symbole == '+':
       return int(x) + int(y)
    else:
       return int(x) * int(y)</code></pre>
                        </div>
                    </div>
                    <div class="pagebreak"></div>
                    <div class="quadrillage5mm">
                    <pre class="language-python" style="background: none; line-height-step: 5mm;"><code style="font-size: larger; font-weight: bolder;">def evalue(arbre):
    f = suffixe(arbre, File())
    p = Pile()
    while ...                              :
        elt = f.defile()
        if elt == '+' or elt == '*':
           # plusieurs lignes
           ...







        else:
           ...







    return ...
                        


</code></pre>
</div>
<div class="corr"><span class="barm">(4 pts)</span>
    <pre class="language-python"><code>def evalue(arbre):
    f = suffixe(arbre, File())
    p = Pile()
    while not(f.est_vide())                              :
        elt = f.defile()
        if elt == '+' or elt == '*':
            x = p.depile()
            y = p.depile()
            resultat = op(elt, x, y)
            p.empile(resultat)    
    
        else:
            p.empile(elt)
    
    return p.depile()</code></pre>
</div>
</div>
                </li>
            </ol>
        </div>
        <div class="pagebreak"></div>
        <h2 class="nocounter">Exercice 2 : SQL : Jeu de Go (10 points) </h2>
        <div class="none">
            <p>
                Le jeu de go est un jeu de société originaire de Chine.
                Il oppose deux adversaires qui placent à tour de rôle des pierres, respectivement noires et blanches,
                sur un
                plateau.
            </p>
            <p>
                Dans cette partie on pourra utiliser les mots clés suivants du langage SQL :
            </p>
            <div style="text-align: center;">
                <code>SELECT</code>, <code>INSERT INTO</code>, <code>DISTINCT</code>, <code>WHERE</code>,
                <code>UPDATE</code>, <code>JOIN</code>, <code>COUNT</code>, <code>MIN</code>, <code>MAX</code>,
                <code>ORDER BY</code>.
            </div>
            <ul>
                <li>
                    La fonction d'agrégation <code>COUNT(*)</code> renvoie le nombre d'enregistrements de la requête.
                </li>
                <li>
                    Les fonctions d'agrégations <code>MIN(propriete)</code> et <code>MAX(propriete)</code> renvoient
                    respectivement la plus petite et la plus grande valeur de l'attribut <code>propriete</code> pour les
                    enregistrements de la requête.
                </li>
                <li>
                    La commande <code>ORDER BY propriete</code> permet de trier les résultats d'une requête selon
                    l'attribut <code>propriete</code>.
                </li>
            </ul>
            <p>
                Le responsable de la fédération internationale de go enregistre dans une base de données les résultats
                de parties historiques.
            </p>
            <p>
                Il définit pour cela des relations <code>Joueurs</code>, <code>Parties</code> et <code>Tournois</code>
                qui
                suivent le schéma relationnel suivant (les clés primaires sont soulignées et les clés étrangères sont
                précédées du caractère <code>#</code>).<br />
                <code>idnoir</code> et <code>idblanc</code> permettent de repérer quel joueur avait quelle couleur de
                pierre (blanches ou noires).
            </p>
            <ul
                style="list-style-type:none;display:flex;flex-wrap:wrap;align-items: start; justify-content: space-evenly;">
                <li>
                    <table style="font-family: 'Courier New', Courier, monospace; border: 1px solid black">
                        <tr>
                            <th colspan="2"
                                style="font-weight: bold; border-bottom: 1px solid black;text-align: center;">
                                Joueurs
                            </th>
                            <td></td>
                        </tr>
                        <tr>
                            <td>
                                <u>idjoueur</u>
                            </td>
                            <td>INT</td>
                        </tr>
                        <tr>
                            <td>nom</td>
                            <td>TXT</td>
                        </tr>
                        <tr>
                            <td>naissance</td>
                            <td>INT</td>
                        </tr>
                        <tr>
                            <td>nation</td>
                            <td>TXT</td>
                        </tr>
                    </table>
                </li>
                <li>
                    <table style="font-family: 'Courier New', Courier, monospace; border: 1px solid black">
                        <tr>
                            <th colspan="2"
                                style="font-weight: bold; border-bottom: 1px solid black;text-align: center;">
                                Parties
                            </th>
                            <td></td>
                        </tr>
                        <tr>
                            <td>#<u>idnoir</u></td>
                            <td>INT</td>
                        </tr>
                        <tr>
                            <td>#<u>idblanc</u></td>
                            <td>INT</td>
                        </tr>
                        <tr>
                            <td>#<u>tournoi</u></td>
                            <td>INT</td>
                        </tr>
                        <tr>
                            <td>jour</td>
                            <td>DATE</td>
                        </tr>
                        <tr>
                            <td>score</td>
                            <td>FLOAT</td>
                        </tr>
                    </table>
                </li>
                <li>
                    <table style="font-family: 'Courier New', Courier, monospace; border: 1px solid black">
                        <tr>
                            <th colspan="2"
                                style="font-weight: bold; border-bottom: 1px solid black;text-align: center;">
                                Tournois
                            </th>
                            <td></td>
                        </tr>
                        <tr>
                            <td><u>idtournoi</u></td>
                            <td>INT</td>
                        </tr>
                        <tr>
                            <td>nom</td>
                            <td>TXT</td>
                        </tr>
                        <tr>
                            <td>pays</td>
                            <td>TXT</td>
                        </tr>
                    </table>
                </li>
            </ul>
            <ol>
                <li>
                    On suppose que ce schéma relationnel a été implémenté dans le système de gestion de bases de
                    données.<br />
                    Voici trois lignes extraites du script SQL ayant servi à la création de ce schéma :
                    <ul>
                        <li><code>FOREIGN KEY (idnoir) REFERENCES Joueurs(idjoueur)</code></li>
                        <li><code>FOREIGN KEY (idblanc) REFERENCES Joueurs(idjoueur)</code></li>
                        <li><code>FOREIGN KEY (tournoi) REFERENCES Tournoi(idtournoi)</code></li>
                    </ul>
                    Tracer, sur le schéma relationnel, des flèches reliant chaque clé étrangère à l'attribut qu'elle
                    référence.
                </li>
                <li>
                    La base de données est vide et on souhaite enregistrer les résultats d'un premier tournoi à l'aide
                    des commandes SQL suivantes :
                    <pre class="language-sql"><code>INSERT INTO Joueurs (idjoueur, nom, naissance, nation)
VALUES (1, 'Dosaku', 1645, 'Japon'),
       (2, 'Genan Inseki', 1798, 'Japon'),
       (3, 'Shusaku', 1829, 'Japon');

INSERT INTO Parties (idnoir, idblanc, tournoi, jour, score)
VALUES (2, 3, 1, '1846-09-12', -2);

INSERT INTO Tournois (idtournoi, nom, pays)
VALUES (1, 'Osaka', 'Japon');</code></pre>
                    <ol type="a">
                        <li>
                            Quelle est l'erreur produite par cette suite d'instructions ? Justifier.
                            <div class="quadrillage5mm background-print" style="min-height:5cm;"></div>
                            <div class="corr"><span class="barm">(2 pts)</span>
                                Il est impossible d'insérer la partie correspondant au tournoi 1 dans la relation
                                <code>Parties</code> sachant que le tournoi 1 n'est pas entré dans la relation
                                <code>Tournoi</code> : erreur de référence.
                            </div>
                        </li>
                        <div class="pagebreak"></div>
                        <li>
                            Comment corriger cette suite d'instructions pour que le traitement s'effectue sans erreur ?
                            <div class="quadrillage5mm background-print" style="min-height:4.5cm;"></div>
                            <div class="corr"><span class="barm">(1 pt)</span>
                                Il suffit d'inverser les deux dernières instructions <code>INSERT INTO ...</code>.
                            </div>
                        </li>
                    </ol>
                </li>
                <li> On donne ci-dessous un extrait des enregistrements contenus dans la base de données :
                    <div style="display:flex;flex-wrap:wrap;">

                        <table id="Tournois" class="mytable">
                            <style scoped>
                                @media screen,
                                print {
                                    #Tournois {
                                        margin: 1.5em;
                                        border-collapse: collapse;
                                        font-family: monospace;
                                        break-inside: avoid;
                                        -webkit-print-color-adjust: exact !important;
                                        print-color-adjust: exact !important;
                                    }

                                    #Tournois caption {
                                        font-weight: bold;
                                    }

                                    #Tournois tr:nth-child(even) {
                                        background-color: #ccc
                                    }

                                    #Tournois tr:nth-child(odd) {
                                        background-color: #ddd
                                    }

                                    #Tournois th {
                                        text-align: left;
                                        background-color: #bbb;
                                        border: 2px solid black;
                                        padding: 0.5em;
                                    }

                                    #Tournois td {
                                        text-align: left;
                                        border: 1px solid black;
                                        padding: 0.5em;
                                    }
                                }
                            </style>
                            <caption>
                                Tournois
                            </caption>
                            <thead>
                                <tr class="table_row_tr_0">
                                    <th class="table_row_0 table_column_1">
                                        idtournoi
                                    </th>
                                    <th class="table_row_0 table_column_2">
                                        nom
                                    </th>
                                    <th class="table_row_0 table_column_3">
                                        pays
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="table_row_tr_1">
                                    <td class="table_row_1 table_column_1">
                                        0
                                    </td>
                                    <td class="table_row_1 table_column_2">
                                        Inconnu
                                    </td>
                                    <td class="table_row_1 table_column_3">
                                        Autre
                                    </td>
                                </tr>
                                <tr class="table_row_tr_2">
                                    <td class="table_row_2 table_column_1">
                                        1
                                    </td>
                                    <td class="table_row_2 table_column_2">
                                        Osaka
                                    </td>
                                    <td class="table_row_2 table_column_3">
                                        Japon
                                    </td>
                                </tr>
                                <tr class="table_row_tr_3">
                                    <td class="table_row_3 table_column_1">
                                        2
                                    </td>
                                    <td class="table_row_3 table_column_2">
                                        Kamakura Games
                                    </td>
                                    <td class="table_row_3 table_column_3">
                                        Japon
                                    </td>
                                </tr>
                                <tr class="table_row_tr_4">
                                    <td class="table_row_4 table_column_1">
                                        3
                                    </td>
                                    <td class="table_row_4 table_column_2">
                                        Meijin
                                    </td>
                                    <td class="table_row_4 table_column_3">
                                        Japon
                                    </td>
                                </tr>
                                <tr class="table_row_tr_5">
                                    <td class="table_row_5 table_column_1">
                                        4
                                    </td>
                                    <td class="table_row_5 table_column_2">
                                        Honinbo
                                    </td>
                                    <td class="table_row_5 table_column_3">
                                        Japon
                                    </td>
                                </tr>
                                <tr class="table_row_tr_6">
                                    <td class="table_row_6 table_column_1">
                                        5
                                    </td>
                                    <td class="table_row_6 table_column_2">
                                        Guksu
                                    </td>
                                    <td class="table_row_6 table_column_3">
                                        Corée
                                    </td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr class="table_row_tr_7">
                                    <td class="table_row_7 table_column_1">
                                        6
                                    </td>
                                    <td class="table_row_7 table_column_2">
                                        Ton Yang Cup
                                    </td>
                                    <td class="table_row_7 table_column_3">
                                        Corée
                                    </td>
                                </tr>
                            </tfoot>
                        </table>


                        <table id="Joueurs" class="mytable">
                            <style scoped>
                                @media screen,
                                print {
                                    #Joueurs {
                                        margin: 1.5em;
                                        border-collapse: collapse;
                                        font-family: monospace;
                                        break-inside: avoid;
                                        -webkit-print-color-adjust: exact !important;
                                        print-color-adjust: exact !important;
                                    }

                                    #Joueurs caption {
                                        font-weight: bold;
                                    }

                                    #Joueurs tr:nth-child(even) {
                                        background-color: #ccc
                                    }

                                    #Joueurs tr:nth-child(odd) {
                                        background-color: #ddd
                                    }

                                    #Joueurs th {
                                        text-align: left;
                                        background-color: #bbb;
                                        border: 2px solid black;
                                        padding: 0.5em;
                                    }

                                    #Joueurs td {
                                        text-align: left;
                                        border: 1px solid black;
                                        padding: 0.5em;
                                    }
                                }
                            </style>
                            <caption>
                                Joueurs
                            </caption>
                            <thead>
                                <tr class="table_row_tr_0">
                                    <th class="table_row_0 table_column_1">
                                        idjoueur
                                    </th>
                                    <th class="table_row_0 table_column_2">
                                        nom
                                    </th>
                                    <th class="table_row_0 table_column_3">
                                        naissance
                                    </th>
                                    <th class="table_row_0 table_column_4">
                                        nation
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="table_row_tr_1">
                                    <td class="table_row_1 table_column_1">
                                        1
                                    </td>
                                    <td class="table_row_1 table_column_2">
                                        Dosaku
                                    </td>
                                    <td class="table_row_1 table_column_3">
                                        1645
                                    </td>
                                    <td class="table_row_1 table_column_4">
                                        Japon
                                    </td>
                                </tr>
                                <tr class="table_row_tr_2">
                                    <td class="table_row_2 table_column_1">
                                        2
                                    </td>
                                    <td class="table_row_2 table_column_2">
                                        Genan Inseki
                                    </td>
                                    <td class="table_row_2 table_column_3">
                                        1798
                                    </td>
                                    <td class="table_row_2 table_column_4">
                                        Japon
                                    </td>
                                </tr>
                                <tr class="table_row_tr_3">
                                    <td class="table_row_3 table_column_1">
                                        3
                                    </td>
                                    <td class="table_row_3 table_column_2">
                                        Shusaku
                                    </td>
                                    <td class="table_row_3 table_column_3">
                                        1829
                                    </td>
                                    <td class="table_row_3 table_column_4">
                                        Japon
                                    </td>
                                </tr>
                                <tr class="table_row_tr_4">
                                    <td class="table_row_4 table_column_1">
                                        4
                                    </td>
                                    <td class="table_row_4 table_column_2">
                                        Kitani Miruno
                                    </td>
                                    <td class="table_row_4 table_column_3">
                                        1909
                                    </td>
                                    <td class="table_row_4 table_column_4">
                                        Japon
                                    </td>
                                </tr>
                                <tr class="table_row_tr_5">
                                    <td class="table_row_5 table_column_1">
                                        5
                                    </td>
                                    <td class="table_row_5 table_column_2">
                                        Go Seigen
                                    </td>
                                    <td class="table_row_5 table_column_3">
                                        1914
                                    </td>
                                    <td class="table_row_5 table_column_4">
                                        Chine
                                    </td>
                                </tr>
                                <tr class="table_row_tr_6">
                                    <td class="table_row_6 table_column_1">
                                        6
                                    </td>
                                    <td class="table_row_6 table_column_2">
                                        Sakata Eio
                                    </td>
                                    <td class="table_row_6 table_column_3">
                                        1920
                                    </td>
                                    <td class="table_row_6 table_column_4">
                                        Japon
                                    </td>
                                </tr>
                                <tr class="table_row_tr_7">
                                    <td class="table_row_7 table_column_1">
                                        7
                                    </td>
                                    <td class="table_row_7 table_column_2">
                                        Rin Kaiho
                                    </td>
                                    <td class="table_row_7 table_column_3">
                                        1942
                                    </td>
                                    <td class="table_row_7 table_column_4">
                                        Taiwan
                                    </td>
                                </tr>
                                <tr class="table_row_tr_8">
                                    <td class="table_row_8 table_column_1">
                                        8
                                    </td>
                                    <td class="table_row_8 table_column_2">
                                        Cho Chikun
                                    </td>
                                    <td class="table_row_8 table_column_3">
                                        1953
                                    </td>
                                    <td class="table_row_8 table_column_4">
                                        Corée
                                    </td>
                                </tr>
                                <tr class="table_row_tr_9">
                                    <td class="table_row_9 table_column_1">
                                        9
                                    </td>
                                    <td class="table_row_9 table_column_2">
                                        Rui Naiwei
                                    </td>
                                    <td class="table_row_9 table_column_3">
                                        1963
                                    </td>
                                    <td class="table_row_9 table_column_4">
                                        Chine
                                    </td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr class="table_row_tr_10">
                                    <td class="table_row_10 table_column_1">
                                        10
                                    </td>
                                    <td class="table_row_10 table_column_2">
                                        Lee Chango
                                    </td>
                                    <td class="table_row_10 table_column_3">
                                        1975
                                    </td>
                                    <td class="table_row_10 table_column_4">
                                        Corée
                                    </td>
                                </tr>
                            </tfoot>
                        </table>


                        <table id="Parties" class="mytable">
                            <style scoped>
                                @media screen,
                                print {
                                    #Parties {
                                        margin: 1.5em;
                                        border-collapse: collapse;
                                        font-family: monospace;
                                        break-inside: avoid;
                                        -webkit-print-color-adjust: exact !important;
                                        print-color-adjust: exact !important;
                                    }

                                    #Parties caption {
                                        font-weight: bold;
                                    }

                                    #Parties tr:nth-child(even) {
                                        background-color: #ccc
                                    }

                                    #Parties tr:nth-child(odd) {
                                        background-color: #ddd
                                    }

                                    #Parties th {
                                        text-align: left;
                                        background-color: #bbb;
                                        border: 2px solid black;
                                        padding: 0.5em;
                                    }

                                    #Parties td {
                                        text-align: left;
                                        border: 1px solid black;
                                        padding: 0.5em;
                                    }
                                }
                            </style>
                            <caption>
                                Parties
                            </caption>
                            <thead>
                                <tr class="table_row_tr_0">
                                    <th class="table_row_0 table_column_1">
                                        idnoir
                                    </th>
                                    <th class="table_row_0 table_column_2">
                                        idblanc
                                    </th>
                                    <th class="table_row_0 table_column_3">
                                        tournoi
                                    </th>
                                    <th class="table_row_0 table_column_4">
                                        jour
                                    </th>
                                    <th class="table_row_0 table_column_5">
                                        score
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="table_row_tr_1">
                                    <td class="table_row_1 table_column_1">
                                        2
                                    </td>
                                    <td class="table_row_1 table_column_2">
                                        3
                                    </td>
                                    <td class="table_row_1 table_column_3">
                                        1
                                    </td>
                                    <td class="table_row_1 table_column_4">
                                        1846-09-12
                                    </td>
                                    <td class="table_row_1 table_column_5">
                                        -2
                                    </td>
                                </tr>
                                <tr class="table_row_tr_2">
                                    <td class="table_row_2 table_column_1">
                                        4
                                    </td>
                                    <td class="table_row_2 table_column_2">
                                        5
                                    </td>
                                    <td class="table_row_2 table_column_3">
                                        0
                                    </td>
                                    <td class="table_row_2 table_column_4">
                                        1922-11-12
                                    </td>
                                    <td class="table_row_2 table_column_5">
                                        0
                                    </td>
                                </tr>
                                <tr class="table_row_tr_3">
                                    <td class="table_row_3 table_column_1">
                                        5
                                    </td>
                                    <td class="table_row_3 table_column_2">
                                        4
                                    </td>
                                    <td class="table_row_3 table_column_3">
                                        2
                                    </td>
                                    <td class="table_row_3 table_column_4">
                                        1939-09-28
                                    </td>
                                    <td class="table_row_3 table_column_5">
                                        2
                                    </td>
                                </tr>
                                <tr class="table_row_tr_4">
                                    <td class="table_row_4 table_column_1">
                                        5
                                    </td>
                                    <td class="table_row_4 table_column_2">
                                        6
                                    </td>
                                    <td class="table_row_4 table_column_3">
                                        0
                                    </td>
                                    <td class="table_row_4 table_column_4">
                                        1953-11-19
                                    </td>
                                    <td class="table_row_4 table_column_5">
                                        999
                                    </td>
                                </tr>
                                <tr class="table_row_tr_5">
                                    <td class="table_row_5 table_column_1">
                                        5
                                    </td>
                                    <td class="table_row_5 table_column_2">
                                        4
                                    </td>
                                    <td class="table_row_5 table_column_3">
                                        3
                                    </td>
                                    <td class="table_row_5 table_column_4">
                                        1961-06-28
                                    </td>
                                    <td class="table_row_5 table_column_5">
                                        999
                                    </td>
                                </tr>
                                <tr class="table_row_tr_6">
                                    <td class="table_row_6 table_column_1">
                                        6
                                    </td>
                                    <td class="table_row_6 table_column_2">
                                        5
                                    </td>
                                    <td class="table_row_6 table_column_3">
                                        3
                                    </td>
                                    <td class="table_row_6 table_column_4">
                                        1962-08-05
                                    </td>
                                    <td class="table_row_6 table_column_5">
                                        0
                                    </td>
                                </tr>
                                <tr class="table_row_tr_7">
                                    <td class="table_row_7 table_column_1">
                                        7
                                    </td>
                                    <td class="table_row_7 table_column_2">
                                        6
                                    </td>
                                    <td class="table_row_7 table_column_3">
                                        3
                                    </td>
                                    <td class="table_row_7 table_column_4">
                                        1967-08-09
                                    </td>
                                    <td class="table_row_7 table_column_5">
                                        2
                                    </td>
                                </tr>
                                <tr class="table_row_tr_8">
                                    <td class="table_row_8 table_column_1">
                                        7
                                    </td>
                                    <td class="table_row_8 table_column_2">
                                        8
                                    </td>
                                    <td class="table_row_8 table_column_3">
                                        4
                                    </td>
                                    <td class="table_row_8 table_column_4">
                                        1983-05-16
                                    </td>
                                    <td class="table_row_8 table_column_5">
                                        -999
                                    </td>
                                </tr>
                                <tr class="table_row_tr_9">
                                    <td class="table_row_9 table_column_1">
                                        10
                                    </td>
                                    <td class="table_row_9 table_column_2">
                                        8
                                    </td>
                                    <td class="table_row_9 table_column_3">
                                        6
                                    </td>
                                    <td class="table_row_9 table_column_4">
                                        1993-04-24
                                    </td>
                                    <td class="table_row_9 table_column_5">
                                        0.5
                                    </td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr class="table_row_tr_10">
                                    <td class="table_row_10 table_column_1">
                                        9
                                    </td>
                                    <td class="table_row_10 table_column_2">
                                        10
                                    </td>
                                    <td class="table_row_10 table_column_3">
                                        5
                                    </td>
                                    <td class="table_row_10 table_column_4">
                                        2000-01-04
                                    </td>
                                    <td class="table_row_10 table_column_5">
                                        999
                                    </td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                    
                    <p>On considère la requête SQL ci-dessous :</p>
                    <pre class="language-sql"><code>SELECT COUNT(*) FROM Parties 
WHERE idblanc = 4 OR idnoir = 4;</code></pre>
<div class="pagebreak"></div>
                    <ol type="a">
                        <li>
                            Quel serait l'affichage produit par cette requête, appliqué au seuls extraits des
                            enregistrements dans les tableaux précédents ?
                            <div class="quadrillage5mm background-print" style="min-height:1cm;"></div>
                            <div class="corr"><span class="barm">(1 pt)</span>
                                3
                            </div>
                        </li>
                        <li>
                            Expliquer avec une phrase ce que renvoie cette requête.
                            <div class="quadrillage5mm background-print" style="min-height:4.5cm;"></div>

                            <div class="corr"><span class="barm">(1 pt)</span>
                                Il s'agit du nombre de parties jouées par le joueur Kitani Miruno, (d'id 4), avec les noirs ou avec les
                                blancs.
                            </div>
                        </li>
                    </ol>
                </li>
                <li>
                    Proposer une requête qui renvoie, par ordre alphabétique, les noms des tournois ayant eu
                    lieu au Japon.
                    <div class="quadrillage5mm background-print" style="min-height:4.5cm;"></div>
                    <div class="corr"><span class="barm">(2 pt)</span>
                        <pre class="language-sql"><code>SELECT nom 
FROM Tournois
WHERE pays = 'Japon'
ORDER BY pays ASC ;</code></pre>
                    </div>
                </li>
                <li>
                    Expliquer en une phrase ce que fait la requête ci-dessous :
                    <pre class="language-sql"><code>SELECT DISTINCT nom 
FROM Joueurs JOIN Parties
             ON  (Joueurs.idjoueur = Parties.idnoir 
                  OR Joueurs.idjoueur = Parties.idblanc)
WHERE Parties.tournoi = 3 ;</code></pre>
<div class="quadrillage5mm background-print" style="min-height:5cm;"></div>
                    <div class="corr"><span class="barm">(1 pts)</span>
                        Elle affiche, sans doublons, la liste des noms des joueurs qui ont participé au tournoi
                        d'id 3 (Meijin).
                    </div>
                </li>
                <li>
                    Proposer une requête qui renvoie les noms des joueurs qui ont joué avec les pierres noires
                    le 15 mars 2016.
                    <div class="quadrillage5mm background-print" style="min-height:5cm;"></div>

                    <div class="corr"><span class="barm">(2 pts)</span>
                        <pre class="language-sql"><code>SELECT DISTINCT nom 
FROM Joueurs JOIN Parties
             ON  Joueurs.idjoueur = Parties.idnoir
WHERE Parties.jour = '2016-03-15' ;</code></pre>
                    </div>
                </li>
            </ol>
        </div>
        <div class="pagebreak"></div>
        <h2 class="nocounter">Exercice 3 : Base de données Mozilla (4 points) </h2>
        <div class="none">
            Voici le schéma (d'une version simplifiée) de la base de données gérant l'historique (<i>places</i>) et les
            marques pages, ou
            favoris
            (<i>bookmarks</i>) du navigateur Firefox :
            <ul>
                <li>
                    <pre><code><strong>moz_places(</strong>
    <u>id</u> VARCHAR(50),
    url VARCHAR(70),
    title VARCHAR(50),
    visit_count INT
    <strong>)</strong></code></pre>
                </li>
                <li>
                    <pre><code><strong>moz_bookmarks(</strong>
    <u>id</u> INT,
    #fk(moz_places.id) VARCHAR(50),
    name VARCHAR(50),
    #parent(moz_bookmarks.id) INT,
    position VARCHAR(20)
<strong>)</strong>
                    </code></pre>
                </li>
            </ul>
            Les clés primaires sont soulignées. <code>#</code> indique une clé étrangère (l'attribut référencé est
            précisé entre parenthèses).<br />
            Un marque-page est soit un dossier (son url est alors vide : NULL), soit un marque-page «normal» (avec url
            non
            vide, que cette url soit correcte ou non).
            <ol>
                <li> Pour chaque affirmation, entourer sa valeur booléenne :
                    <ul>
                        <li>Une même page web peut être enregistrée par deux marques-pages dont les noms sont
                            différents.
                            <div style="margin:2em"><code>vrai</code>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <code>Faux</code></div>
                            <div class="corr"><span class="barm">(1 pt)</span>
                                Vrai : ces marques-pages peuvent aussi avoir le même nom et le même parent ;
                                leurs id deront différentes.
                            </div>
                        </li>
                        <li>Un marque page peut référencer plusieurs pages web.
                            <div style="margin:2em"><code>vrai</code>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <code>Faux</code></div>
                            <div class="corr"><span class="barm">(1 pt)</span>
                                Faux : l'attribut <code>fk</code> renvoie à l'id d'une page : une seule adresse est
                                enregistrée.
                            </div>
                        </li>
                    </ul>
                </li>
                <li> Expliquer comment modifier ce schéma pour qu'une page ne puisse être référencée que par un seul
                    marque page.
                    <div class="quadrillage5mm background-print" style="min-height:7cm;"></div>

                    <div class="corr"><span class="barm">(2 pts)</span>
                        On peut ajouter une contraite <code>UNIQUE</code> sur l'attribut fk.
                    </div>
                </li>
            </ol>
        </div>
    </main>
</body>

</html>
